# -*- coding: utf-8 -*-
"""app.py

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1-NuwVNAKSZ_nzFuvO1T80EXjFq4yQIz2
"""

import streamlit as st
import numpy as np
import pickle

# Load your Gradient Boosting model
model = pickle.load(open("cvd_model.pkl", "rb"))

# Title
st.title("ü´Ä Cardiovascular Disease Risk Predictor")

# User Inputs
age = st.number_input("Age Group (Numerical)", min_value=1, max_value=20, value=5)
bmi = st.number_input("BMI", min_value=10.0, max_value=100.0, value=25.0)
physhlth = st.number_input("Physical Health Days (last month)", 0, 30, 0)
menthlth = st.number_input("Mental Health Days (last month)", 0, 30, 0)
exerany2 = st.selectbox("Exercise Regularly?", [("Yes", 1), ("No", 0)])[1]
smoke100 = st.selectbox("Smoked ‚â•100 cigarettes in life?", [("Yes", 1), ("No", 0)])[1]
smokday2 = st.selectbox("Currently Smoke Daily?", [("Yes", 1), ("No", 0)])[1]
alcday4 = st.number_input("Alcohol Consumption Days per Month", 0, 30, 0)
diabete4 = st.selectbox("Diabetes?", [("Yes", 1), ("No", 0)])[1]
cvdinfr4 = st.selectbox("Previous Heart Attack?", [("Yes", 1), ("No", 0)])[1]
cvdcrhd4 = st.selectbox("Coronary Heart Disease?", [("Yes", 1), ("No", 0)])[1]
cvdstrk3 = st.selectbox("Stroke History?", [("Yes", 1), ("No", 0)])[1]
hadmam = st.selectbox("Had Recent Mammogram?", [("Yes", 1), ("No", 0)])[1]
covidpos = st.selectbox("Ever COVID Positive?", [("Yes", 1), ("No", 0)])[1]
covidsmp = st.selectbox("Experienced COVID Symptoms?", [("Yes", 1), ("No", 0)])[1]
covidprm = st.selectbox("COVID Primary Impact?", [("Yes", 1), ("No", 0)])[1]

# Prediction
if st.button("Predict Cardiovascular Risk"):
    input_data = np.array([[age, bmi, physhlth, menthlth, exerany2, smoke100, smokday2,
                            alcday4, diabete4, cvdinfr4, cvdcrhd4, cvdstrk3, hadmam,
                            covidpos, covidsmp, covidprm]])
    prediction = model.predict(input_data)[0]

    if prediction == 1:
        st.error("‚ö†Ô∏è **High Risk:** Consult a healthcare professional immediately.")
    else:
        st.success("‚úÖ **Low Risk:** No immediate cardiovascular disease risk detected.")